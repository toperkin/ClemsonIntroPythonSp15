<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Graphing Pandas</title>

		<meta name="description" content="Lecture 1">
		<meta name="author" content="Tony Perkins">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/serif.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<!--section>
					<h1>#Numerical Methods in Python</h1>
					<h3>Bonus topic: Pandas</h3>
					<p>
						<small>By <a href="http://toperkin.github.io/">Tony Perkins</a></small>
					</p>
				</section-->


				<section>
					<h1>Intro to Python</h1>
					<h3>Clemson University, Spring 2015</h3>
					<p>
						<small>By <a href="http://toperkin.github.io/">Tony Perkins</a></small>
					</p>
				</section>

				<section>
					<p>Programming is frusterating.</p>

					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/ayoade.gif" alt="" style="width: 1000px;">
				</section>

				<section>
					<p>It's okay.  Just keep typing.</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/typing2.gif" alt="" style="width: 1000px;">
				</section>

				<section>
					<video width='720' height='540' preload='none' controls poster = 'http://toperkin.github.io/ClemsonIntroPythonSp15/assets/particle-022.png'>
						<source src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/particle.ogv" type="video/ogv">
						<source src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/particle.webm" type="video/webm">
					</video>
				</section>

				<section>
				<video width='720' height='540' preload='none' controls poster='http://toperkin.github.io/ClemsonIntroPythonSp15/assets/bez-040.png'>
					<source src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/bez.ogv" type="video/ogv">
					<source src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/bez.webm" type="video/webm">
				</video>
				</section>

				<section>
					<h2>Why Python?</h2>
				</section>

				<section>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/codeeval2014.jpg" alt="">
					<p>Simple syntax and extremely versatile.</p>
				</section>

				<section>
					<h2>Decent performance.</h2>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/julia-bench.png" alt="Julia logo"/>
						<br />
						<p>C preformance = 1</p>
				</section>

				<section>
					<ul>
						<li>Install Python and important libraries</li>
						<li><a href="http://www.continuum.io/">Anaconda python</a> has a free installer which gives us all the libraries we need</li>
							<ul>
								<li>Matplotlib - Great graphing!</li>
								<li>NumPy - Numerical Linear algebra.  Really convenent array notation.</li>
								<li>SciPy - Numerical ODE solvers, stats, basically all the math you could want that isn't already in NumPy</li>
								<li>Pandas - Data manipulation.  More graphing tools. More stats.</li>
							</ul>
					</ul>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/continuum_analytics_logo.png" alt="Continuum Analytics logo" style="width: 500px;"/>
				</section>

				<section>
					<h3>A pretty decent IDE to write and run your code.</h3>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/Spyder_logo.png" alt="" style="width: 500px;"/>
				</section>

				<section>
					<h3>I prefer PyCharm</h3>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/pycharm_logo.png" alt="" style="width: 500px;"/>
					<p>It is free for students and educators.  Probably overkill at this point.</p>
				</section>
				<section>
					<h2>Topics:</h2>
					<ol>
						<li>GRAPHING!!!</li>
						<li>Also a little data analysis/processing.</li>
					</ol>
				</section>

				<section>
					<h2>Why Excel is a bad!</h2>
					<ul>
						<li><b>You will lose your data.</b>  It makes it far too easy to accidently change a data value and not notice.  It is much better to just read the data file in (but not write or edit it), and do your processing in a why that doesn't involve touching it.</li><br />
						<li><b>Its graphs look terrible.</b></li>
					</ul>
				</section>

				<section>
					<h2>Why Excel is a bad! (pt 2)</h2>
					<ul>
						<li><b>It's hard to see what formulas are being used</b> because as soon as you click of the cell you just see the result.  So to check that all the equations are  correct to you have to go through and click every single cell.</li><br />
						<li><b>You do waste a lot of time.</b>  It's slow.  You want to change one thing about your data, or want to change something about the graph, and you have to redo everything  from scratch.  With this process, you change one line and you can run the same file on many different datasets.  You can get lots of graphs quickly and they'll have a consistent look and feel.</li>
					</ul>
				</section>

				<section>
					<h2>Tools
					</h2>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/matplotlib.png" alt="" style="width: 700px;"/>
					<ul>
						<li><a href="http://matplotlib.org/">Matplotlib</a>: For plotting!</li><br />
						<li><a href="http://www.numpy.org/">NumPy</a>: Useful array structure and data importing.</li><br />
						<li><a href="http://pandas.pydata.org/">Pandas</a>:  the Python Data Analysis library. Importing complex data and doing fancy things with it.</li>
					</ul>
				</section>

				<section>
					<h2>Let's get to it.</h2>
				</section>

				<section>
				<h2>Suppose I have some data:
				</h2>
				<p><a href="https://raw.githubusercontent.com/toperkin/ClemsonIntroPythonSp15/gh-pages/source/band.data">Here it is</a>
				</p>

<pre><code data-trim contenteditable>
0.000000E+00 -0.756049E+00 -0.700188E+00 -0.685371E+00 -0.336358E+00 -0.232245E+00 -0.216680E+00 -0.206731E+00 -0.198565E+00 -0.173108E+00 -0.157317E+00 -0.136974E+00 -0.135333E+00 -0.112765E+00 -0.992180E-01 -0.914982E-01 -0.897040E-01 -0.758434E-01 -0.574099E-01 -0.251686E-01  0.860775E-02  0.161784E-01  0.619442E-01  0.932434E-01  0.123208E+00  0.135834E+00  0.147579E+00  0.177739E+00  0.184529E+00  0.199457E+00  0.201137E+00  0.216487E+00
0.816216E-01 -0.756021E+00 -0.700202E+00 -0.685352E+00 -0.337061E+00 -0.232084E+00 -0.216713E+00 -0.206576E+00 -0.198331E+00 -0.172982E+00 -0.157517E+00 -0.137442E+00 -0.133909E+00 -0.112606E+00 -0.991288E-01 -0.915804E-01 -0.888826E-01 -0.762505E-01 -0.573553E-01 -0.245172E-01  0.110668E-01  0.193704E-01  0.627134E-01  0.925741E-01  0.116479E+00  0.127518E+00  0.148403E+00  0.172338E+00  0.180475E+00  0.193882E+00  0.194723E+00  0.197848E+00
0.163243E+00 -0.755952E+00 -0.700233E+00 -0.685305E+00 -0.338715E+00 -0.231713E+00 -0.216681E+00 -0.206267E+00 -0.197776E+00 -0.172631E+00 -0.157878E+00 -0.137568E+00 -0.131554E+00 -0.112499E+00 -0.989412E-01 -0.915173E-01 -0.865507E-01 -0.773424E-01 -0.572686E-01 -0.226281E-01  0.172997E-01  0.285411E-01  0.641710E-01  0.854221E-01  0.108895E+00  0.120782E+00  0.132134E+00  0.153451E+00  0.168480E+00  0.174859E+00  0.184854E+00  0.190687E+00
0.244865E+00 -0.755882E+00 -0.700263E+00 -0.685258E+00 -0.340326E+00 -0.231403E+00 -0.216456E+00 -0.206108E+00 -0.197288E+00 -0.172174E+00 -0.158129E+00 -0.137422E+00 -0.129638E+00 -0.112744E+00 -0.989102E-01 -0.910672E-01 -0.836489E-01 -0.786875E-01 -0.572741E-01 -0.200726E-01  0.239895E-01  0.421957E-01  0.621442E-01  0.796474E-01  0.946831E-01  0.113549E+00  0.125752E+00  0.139979E+00  0.153823E+00  0.169540E+00  0.178134E+00  0.183255E+00
0.326487E+00 -0.755854E+00 -0.700276E+00 -0.685239E+00 -0.340983E+00 -0.231300E+00 -0.216295E+00 -0.206094E+00 -0.197121E+00 -0.171934E+00 -0.158217E+00 -0.137341E+00 -0.128917E+00 -0.112935E+00 -0.989517E-01 -0.907824E-01 -0.821383E-01 -0.794659E-01 -0.573154E-01 -0.187068E-01  0.268747E-01  0.517633E-01  0.600813E-01  0.776488E-01  0.849822E-01  0.108718E+00  0.120552E+00  0.142525E+00  0.154564E+00  0.164456E+00  0.175574E+00  0.178877E+00
0.408108E+00 -0.755882E+00 -0.700263E+00 -0.685258E+00 -0.340326E+00 -0.231403E+00 -0.216456E+00 -0.206108E+00 -0.197288E+00 -0.172174E+00 -0.158129E+00 -0.137422E+00 -0.129638E+00 -0.112744E+00 -0.989102E-01 -0.910672E-01 -0.836489E-01 -0.786875E-01 -0.572741E-01 -0.200726E-01  0.239895E-01  0.421957E-01  0.621442E-01  0.796475E-01  0.946832E-01  0.113549E+00  0.125752E+00  0.139979E+00  0.153823E+00  0.169539E+00  0.178133E+00  0.183254E+00
0.489730E+00 -0.755952E+00 -0.700233E+00 -0.685305E+00 -0.338715E+00 -0.231713E+00 -0.216681E+00 -0.206267E+00 -0.197776E+00 -0.172631E+00 -0.157878E+00 -0.137568E+00 -0.131554E+00 -0.112499E+00 -0.989412E-01 -0.915171E-01 -0.865507E-01 -0.773424E-01 -0.572686E-01 -0.226281E-01  0.172997E-01  0.285411E-01  0.641711E-01  0.854220E-01  0.108895E+00  0.120782E+00  0.132134E+00  0.153451E+00  0.168480E+00  0.174858E+00  0.184853E+00  0.190687E+00
0.571351E+00 -0.756021E+00 -0.700202E+00 -0.685352E+00 -0.337061E+00 -0.232084E+00 -0.216713E+00 -0.206576E+00 -0.198331E+00 -0.172982E+00 -0.157517E+00 -0.137442E+00 -0.133909E+00 -0.112606E+00 -0.991288E-01 -0.915804E-01 -0.888827E-01 -0.762505E-01 -0.573554E-01 -0.245172E-01  0.110668E-01  0.193704E-01  0.627134E-01  0.925741E-01  0.116479E+00  0.127518E+00  0.148403E+00  0.172338E+00  0.180474E+00  0.193883E+00  0.194725E+00  0.197847E+00
0.110658E+01 -0.755978E+00 -0.700269E+00 -0.685376E+00 -0.336738E+00 -0.231439E+00 -0.216052E+00 -0.206446E+00 -0.198398E+00 -0.173387E+00 -0.158762E+00 -0.137499E+00 -0.134454E+00 -0.112976E+00 -0.991719E-01 -0.912751E-01 -0.887450E-01 -0.761193E-01 -0.588293E-01 -0.251054E-01  0.902134E-02  0.201975E-01  0.647206E-01  0.942934E-01  0.118731E+00  0.128951E+00  0.151038E+00  0.169736E+00  0.179494E+00  0.185857E+00  0.195117E+00  0.202688E+00
0.118820E+01 -0.755925E+00 -0.700295E+00 -0.685342E+00 -0.338052E+00 -0.230918E+00 -0.215781E+00 -0.206049E+00 -0.198131E+00 -0.173414E+00 -0.159150E+00 -0.137857E+00 -0.132457E+00 -0.112795E+00 -0.989821E-01 -0.913411E-01 -0.867676E-01 -0.767560E-01 -0.590774E-01 -0.245919E-01  0.136886E-01  0.267778E-01  0.650724E-01  0.894192E-01  0.111672E+00  0.126186E+00  0.136349E+00  0.160452E+00  0.164377E+00  0.175379E+00  0.194705E+00  0.198603E+00
0.126982E+01 -0.755856E+00 -0.700326E+00 -0.685295E+00 -0.339678E+00 -0.230632E+00 -0.215614E+00 -0.205934E+00 -0.197528E+00 -0.173085E+00 -0.159154E+00 -0.137969E+00 -0.130395E+00 -0.112964E+00 -0.989461E-01 -0.909140E-01 -0.838854E-01 -0.781033E-01 -0.590804E-01 -0.226138E-01  0.200933E-01  0.386320E-01  0.645537E-01  0.816756E-01  0.107758E+00  0.116928E+00  0.127592E+00  0.142311E+00  0.145037E+00  0.156824E+00  0.187848E+00  0.202052E+00
0.135145E+01 -0.755810E+00 -0.700344E+00 -0.685263E+00 -0.340674E+00 -0.230640E+00 -0.215775E+00 -0.206018E+00 -0.196982E+00 -0.172513E+00 -0.159057E+00 -0.137793E+00 -0.129271E+00 -0.113188E+00 -0.989972E-01 -0.904043E-01 -0.820207E-01 -0.795136E-01 -0.587084E-01 -0.195398E-01  0.236176E-01  0.518826E-01  0.624552E-01  0.817378E-01  0.888031E-01  0.112308E+00  0.123894E+00  0.131172E+00  0.146593E+00  0.152229E+00  0.174131E+00  0.188105E+00
0.143307E+01 -0.755815E+00 -0.700338E+00 -0.685265E+00 -0.340491E+00 -0.230895E+00 -0.216360E+00 -0.206132E+00 -0.196717E+00 -0.172209E+00 -0.158920E+00 -0.137657E+00 -0.129431E+00 -0.113058E+00 -0.989509E-01 -0.903946E-01 -0.833270E-01 -0.792863E-01 -0.580660E-01 -0.179669E-01  0.214776E-01  0.514468E-01  0.637983E-01  0.840034E-01  0.885597E-01  0.113033E+00  0.117043E+00  0.135064E+00  0.150746E+00  0.156523E+00  0.166736E+00  0.185437E+00
</code></pre>
				</section>

				<section>
					<h2>
					</h2>
					<p>
						NumPy and Matplotlib!
					</p>

<pre><code data-trim contenteditable>
#numpy_graphing.py

import numpy as np
import matplotlib.pyplot as plt

A = np.genfromtxt("band.data", dtype=float)
A = A.T

fig = plt.figure()

for k in range(1, len(A)):
    plt.plot(A[0], 27.21*A[k]-0.3)

plt.title('Band')
fig.savefig("numpy_graphing1.png")
</code></pre>
				</section>

				<section>
					<h2>
					</h2>
					<p>The output!
					</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/numpy_graphing1.png" alt="" style="width: 700px;"/>
				</section>

				<section>
					<h2>
					</h2>
					<p>Wow that's a lot of information.  Maybe I only want to see the graphs between $-2$ and $3$.</p><br />
					<p>Can I do that?
					</p>
				</section>

				<section>
					<h2>Of course!
					</h2>
					<p>
					</p>
<pre><code data-trim contenteditable>
#numpy_graphing.py continued...


fig2 = plt.figure()

for k in range(1, len(A)):
    if min( 27.21*A[k]-0.3 ) > -2 and max( 27.21*A[k]-0.3 ) < 3:
        plt.plot(A[0], 27.21*A[k]-0.3)

plt.title('Band')
fig2.savefig('numpy_graphing2')
</code></pre>
				</section>

				<section>
					<h2>
					</h2>
					<p>The output:
					</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/numpy_graphing2.png" alt="" style="width: 700px;"/>
				</section>


				<section>
					<h2>I didn't see any Pandas.
					</h2>
					<p>
					</p>
				</section>

				<section>
					<h2>
					</h2>
					<p>Okay.  So Pandas has some really powerful data manipulation abilities that I'm not going to talk about right now.  I'm going to focus on <b>importing data</b> and <b>graphing</b> it.
					</p>
				</section>

				<section>
					<h2>
					</h2>
					<p>Let's import that same data with Pandas.
					</p>
				</section>

								<section>
									<h2>
									</h2>
									<p>A screen shot show you can see the terminal output:
									</p><br />
									<p>NaN = "Not a Number", all those extra whitespace in the file.
									</p>
									<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/dirty.png" alt="" style="width: 900px;"/>
								</section>


				<section>
					<h2>
					</h2>
					<p>Let's drop 'em.
					</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/clean.png" alt="" style="width: 900px;"/>
				</section>

				<section>
					<h2>
					</h2>
					<p>And plot:
					</p>
<pre><code data-trim contenteditable>
#pandas_text_import.py

import matplotlib.pyplot as plt
import pandas as pd

data = pd.read_table("band.data", sep=" ", header=None)
data = data.dropna(axis=1, how='all')
plt.figure()
data.plot()
plt.savefig('pd_text_import1')
</code></pre>
				</section>

				<section>
					<h2>
					</h2>
					<p>The output:
					</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/pd_text_import1.png" alt="" style="width: 700px;"/>
				</section>

				<section>
					<h2>
					</h2>
					<p>Again, but graph the columns against col=2. </p>
					<p>(we removed col=0 and col=1)
					</p>
<pre><code data-trim contenteditable>
#pandas_text_import.py

import matplotlib.pyplot as plt
import pandas as pd

data = pd.read_table("band.data", sep=" ", header=None)
data = data.dropna(axis=1, how='all')
plt.figure()
data.plot(x=2)
plt.savefig('pd_text_import2')
</code></pre>
				</section>

				<section>
					<h2>
					</h2>
					<p>The output:
					</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/pd_text_import2.png" alt="" style="width: 700px;"/>
				</section>

				<section>
					<h2>
					</h2>
					<p>Let's scale it like last time and remove this useless legend.
					</p>
<pre><code data-trim contenteditable>
#pandas_text_import.py

import matplotlib.pyplot as plt
import pandas as pd

data = pd.read_table("band.data", sep=" ", header=None)
data = data.dropna(axis=1, how='all')

def scale(x):
  return 27.21*x-0.3

data[1:] = data[1: ].apply(scale)

plt.figure()
data.plot(x=2, legend=False)
plt.savefig('pd_text_import2')
</code></pre>
				</section>

				<section>
					<h2>
					</h2>
					<p>The output:
					</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/pd_text_import3.png" alt="" style="width: 700px;"/>
				</section>

				<section>
					<h2>
					</h2>
					<p>Lastly, let's select the columns with min$\ge -2$ and max$\le 3$ as before.
					</p><br />
					<p>Warning:  I'm not going to do this the slickest possible way.  Instead I'm going for what I hope will be the way that makes the most sense.</p>
				</section>

				<section>
					<p>The beginning is the same</p>
<pre><code data-trim contenteditable>
#pandas_text_import.py

import matplotlib.pyplot as plt
import pandas as pd

data = pd.read_table("band.data", sep=" ", header=None)
data = data.dropna(axis=1, how='all')

def scale(x):
  return 27.21*x-0.3

data[1:] = data[1: ].apply(scale)
</code></pre>
				</section>

				<section>
	<p>Here is the second half, which restricts which columns get plotted.</p>
<pre><code data-trim contenteditable>
plt.figure()
i=0
for col in data.columns:
  if col != 2:
    if data[col].min() > -2 and data[col].max() < 3:
      if i==0:
        ax = data.plot(x=2, y=col, legend=False)
        i=1
      else:
        data.plot(x=2, y=col, legend=False, ax=ax)

plt.savefig('pd_text_import2')
</code></pre>
				</section>

				<section>
					<h2>
					</h2>
					<p>Ta Da
					</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/pd_text_import4.png" alt="" style="width: 700px;"/>
				</section>


				<section>
					<h2>
					</h2>
					<p>FYI.  Pandas can import lots of different data formats
					</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/input.png" alt="" style="width: 500px;"/>
				</section>

				<section>
					<h2>
					</h2>
					<p>Oh, and output them as well!
					</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/output.png" alt="" style="width: 500px;"/>
				</section>

								<section>
									<h2>How about some other types of plots!
									</h2>
									<p>
									</p>
								</section>


				<section>
					<h2>But first a rant!
					</h2>
					<p>
					</p>
				</section>

				<section>
					<h2>
					</h2>
					<p>I really don't like scatter plots.  They're stupid and lazy because they leave a lot of interesting information off that could easily be included.
					</p>
				</section>

				<section>
					<h2>Here's a bad scatterplot I found online:
					</h2>
					<p>
					</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/bad_scatt.png" alt="" style="width: 700px;"/>
				</section>

				<section>
					<h2>What don't I like?
					</h2>
					<p>
					</p>
				</section>

				<section>
					<h2>
					</h2>
					<ul>
					<li>All the points are covering each other up and it's hard to tell how dense certain parts are.</li>  <br />
					<li>This google graph just looks amateurish.</li>
					</ul>
				</section>

				<section>
					<h2>So, what do I like better?
					</h2>
					<p>
					</p>
				</section>

				<section>
					<h2>HexBin plots!
					</h2>
					<p>
					</p>
				</section>

				<section>
					<h2>Why?
					</h2>
					<p>Because hexagons are awesome.  Just ask the bees.
					</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/bees.jpg" alt="" style="width: 800px;"/>
				</section>

				<section>
					<h2>Fine show me.
					</h2>
					<p>
					</p>
				</section>

				<section>
					<h2>
					</h2>
					<p>Here's the same graph as a hexbin:
					</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/hex_scatter2.png" alt="" style="width: 700px;"/>
				</section>

				<section>
					<h2>Wow!  That must have taken a lot of typing?
					</h2>
					<p>
					</p>
				</section>

				<section>
					<h2>Nope. Thank you Pandas!
					</h2>
					<p><a href="https://raw.githubusercontent.com/toperkin/ClemsonIntroPythonSp15/gh-pages/source/kzn1993.csv">Here's the data</a>
					</p>

<pre><code data-trim contenteditable>
#hex_scatter.py

import pandas as pd
import matplotlib.pyplot as plt

plt.figure()
data = pd.read_csv('kzn1993.csv')
df2 = pd.DataFrame(data, columns=['meaneduc', 'cm_16_exp'])
df2.plot(kind='hexbin', x='meaneduc', y='cm_16_exp', gridsize=35)
plt.savefig('hex_scatter2.png')

</code></pre>
				</section>

				<section>
					<h2>
					</h2>
					<p>That was fun.  I'll generate another with some random data.
					</p>
<pre><code data-trim contenteditable>
import pandas as pd
import matplotlib.pyplot as plt
import numpy as np

plt.figure()

df = pd.DataFrame(np.random.randn(1000, 2), columns=['a', 'b'])
df['b'] = df['b'] + np.arange(1000)
df.plot(kind='hexbin', x='a', y='b', gridsize=25)
plt.savefig('hex_scatter.png')
</code></pre>
				</section>

				<section>
					<h2>
					</h2>
					<p>
					</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/hex_scatter.png" alt="" style="width: 700px;"/>
				</section>

				<section>
					<h2>Pandas Dataframe
					</h2>
					<p>This powerful datastructure is extremely useful for data analysis and manipulation.  We'll talk about it some more later.  But for now, I just want to mention that it's possible to go back and forth from NumPy arrays to Dataframes.
					</p>
				</section>

				<section>
					<h2>An example.
					</h2>
					<p><a href="https://github.com/toperkin/ClemsonIntroPythonSp15/tree/gh-pages/source/AMZN-KO">Here's some data</a>
					</p>
<pre><code>
#numpy_to_dataframe.py

import matplotlib.pyplot as plt
import pandas as pd
import numpy as np

data_amzn = np.genfromtxt("AMZN-KO/AMZN.csv", delimiter=",")
data_ko = np.genfromtxt("AMZN-KO/KO.csv", delimiter=",")

merged = np.concatenate((data_amzn[2:,1:3], data_ko[2:,1:3]), axis=1)
df = pd.DataFrame(merged)

plt.figure()
df.plot(kind='hexbin',  x=0, y=2, gridsize=20)
plt.savefig("amzon-ko-hex")
</code></pre>
				</section>

				<section>
					<h2>The output:
					</h2>
					<p>
					</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/amzon-ko-hex.png" alt="" style="width: 700px;"/>
				</section>

				<section>
					<h2>
					</h2>
					<p>Let's play with a line graph.
					</p>
					<br />
					<p><a href="https://raw.githubusercontent.com/toperkin/ClemsonIntroPythonSp15/gh-pages/source/price-of-a-dozen-eggs-19001993-i.csv">Here's the data</a></p>
<pre><code>
#egg-no-err.py

import pandas as pd
import matplotlib.pyplot as plt

data1 = pd.read_csv('price-of-a-dozen-eggs-19001993-i.csv')
plt.figure()
plt.plot(data1.Price)
plt.savefig('price-of-eggs-no-err')
</code></pre>
				</section>

				<section>
					<h2>The output:
					</h2>
					<p>
					</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/price-of-eggs-no-err.png" alt="" style="width: 700px;"/>
				</section>

				<section>
					<h2>
					</h2>
					<p>Let's do something a little more impressive.
					</p>
				</section>

				<section>
					<h2>Error bars!
					</h2>
					<p>
					</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/price-of-eggs.png" alt="" style="width: 700px;"/>
				</section>

				<section>
					<h2>Here's the code:
					</h2>
					<p>
					</p>
<pre><code>
#eggs_line.py

import pandas as pd
import matplotlib.pyplot as plt

data = pd.Series.from_csv('price-of-a-dozen-eggs-19001993-i.csv', header=0)

ma = pd.rolling_mean(data, 10, center=True)
mstd = pd.rolling_std(data, 10, center=True)

plt.figure()
plt.plot(data.index, data)
plt.fill_between(mstd.index, ma-2*mstd, ma+2*mstd, color='b', alpha=0.2)
plt.savefig('price-of-eggs')
</code></pre>
			  </section>

				<section>
					<h2>Here's another example with some random data:
					</h2>
					<p>
					</p>
<pre><code>
#line_w_error.py

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

price = pd.Series(np.random.randn(150).cumsum(),
    index=pd.date_range('2000-1-1', periods=150, freq='B'))
ma = pd.rolling_mean(price, 20)
mstd = pd.rolling_std(price, 20)
plt.figure()
plt.plot(ma.index, ma, 'b')
plt.fill_between(mstd.index, ma-2*mstd, ma+2*mstd, color='b', alpha=0.2)
plt.savefig('line_w_error')
</code></pre>
			</section>

				<section>
					<h2>The output:
					</h2>
					<p>
					</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/line_w_error.png" alt="" style="width: 700px;"/>
				</section>

<section>
	<h2></h2>
	<p>Alright.  I want to go back to the 'eggs' graph and see if I can pretty it up a little.</p><br />
	<p>Did I mention because you are using python to graph you can control every aspect of it's appearance?</p>
</section>

<section>
	<p>Here's the 'eggs' with error bars.</p>
<pre><code>
#eggs_line.py

import pandas as pd
import matplotlib.pyplot as plt

data = pd.Series.from_csv('price-of-a-dozen-eggs-19001993-i.csv', header=0)

ma = pd.rolling_mean(data, 10, center=True)
mstd = pd.rolling_std(data, 10, center=True)

plt.figure()
plt.plot(data.index, data)
plt.fill_between(mstd.index, ma-2*mstd, ma+2*mstd, color='b', alpha=0.2)
plt.savefig('price-of-eggs')
</code></pre>
</section>

<section>
	<h2>How can we make it pretty? </h2>
	<p>step i.</p>
<pre><code>
# You typically want your plot to be ~1.33x wider than tall.
# Common sizes: (10, 7.5) and (12, 9)

plt.figure(figsize=(12, 9))
</code></pre>
</section>

<section>
	<h2>How can we make it pretty? </h2>
	<p>step ii.</p>
<pre><code>
# Remove the plot frame lines. They are unnecessary chartjunk.

ax = plt.subplot(111)
ax.spines["top"].set_visible(False)
ax.spines["right"].set_visible(False)
</code></pre>
</section>

<section>
	<h2>How can we make it pretty? </h2>
	<p>step iii.</p>
<pre><code>
# Ensure that the axis ticks only show up on the bottom and left of the plot.
# Ticks on the right and top of the plot are generally unnecessary chartjunk.

ax.get_xaxis().tick_bottom()
ax.get_yaxis().tick_left()
</code></pre>
</section>

<section>
	<h2>How can we make it pretty? </h2>
	<p>step iv.</p>
<pre><code>
# Along the same vein, make sure your axis labels are large
# enough to be easily read as well. Make them slightly larger
# than your axis tick labels so they stand out.

plt.ylabel("Price of eggs", fontsize=16)
</code></pre>
</section>

<section>
	<h2>How can we make it pretty? </h2>
	<p>step v.</p>
<pre><code>
# Use matplotlib's fill_between() call to create error bars.
# Use the dark blue "#3F5D7D" as a nice fill color.

plt.fill_between(mstd.index, ma-2*mstd, ma+2*mstd, color='#3F5D7D')
</code></pre>
</section>


<section>
	<h2>How can we make it pretty? </h2>
	<p>step vi.</p>
<pre><code>
# Plot the original data as a white line in between the error bars.
# White stands out best against the dark blue.

plt.plot(data.index, data, color="white", lw=2)
</code></pre>
</section>

<section>
	<h2>How can we make it pretty? </h2>
	<p>step vii.</p>
<pre><code>
# Make a title big enough so it spans the entire plot, but don't make it
# so big that it requires two lines to show.

plt.title("Price of eggs by year", fontsize=22)
</code></pre>
</section>

<section>
	<h2>How can we make it pretty? </h2>
	<p>step viii.</p>
<pre><code>
# Always include your data source(s) and copyright notice! And for your
# data sources, tell your viewers exactly where the data came from,
# preferably with a direct link to the data. Just telling your viewers
# that you used data from the "U.S. Census Bureau" is completely useless:
# the U.S. Census Bureau provides all kinds of data, so how are your
# viewers supposed to know which data set you used?

plt.xlabel("\nData source: https://datamarket.com/data/set/22tq/price-of-a-dozen-eggs-1900-1993-in-constant | "
  "Author: Tony Perkins", fontsize=10)
</code></pre>
</section>

<section>
	<h2>How can we make it pretty? </h2>
	<p>step ix.</p>
<pre><code>
# Finally, save the figure as a PNG.
# You can also save it as a PDF, JPEG, etc.
# Just change the file extension in this call.
# bbox_inches="tight" removes all the extra whitespace on the edges of your plot.

plt.savefig('pretty-eggs', bbox_inches="tight")
</code></pre>
</section>

<section>
	<h2>
	</h2>
	<p>
	</p>
	<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/pretty-eggs.png" alt="" style="width: 700px;"/>
</section>



				<section>
					<h2>Let's try doing something a little bigger!
					</h2>
					<p>
					</p>
				</section>

				<section>
					<h2>
					</h2>
					<p><a href="https://raw.githubusercontent.com/toperkin/ClemsonIntroPythonSp15/gh-pages/source/percent-bachelors-degrees-women-usa.csv">I found some data I want to display</a>
					</p>
				</section>

				<section>
					<h2>
					</h2>
					<p><a href="https://github.com/toperkin/ClemsonIntroPythonSp15/blob/gh-pages/source/line_min.py">This code is a little long so lets just few it on github.</a>
					</p>
				</section>

				<section>
					<h2>The output:
					</h2>
					<p>
					</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/percent-bachelors-degrees-women-usa_minimum.png" alt="" style="width: 800px;"/>
				</section>

				<section>
					<h2>Yuk, let's see if we can't clean this up some more.
					</h2>
					<p>
					</p>
				</section>

					<section>
						<p>
						</p>
						<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/percent-bachelors-degrees-women-usa.png" alt="" style="width: 700px;"/>
					</section>

				<section>
					<h2>
					</h2>
					<p><a href="https://github.com/toperkin/ClemsonIntroPythonSp15/blob/gh-pages/source/lines1.py">Let's go back to github to see how I did it.</a>
					</p>
				</section>

				<section>
					<p>You are running with a rough crowd and have higher dimensional data to display?</p>
				</section>

				<section>
					<p>Here's some obvious things you can do:</p>
				</section>

			<section>
				<p>
				</p>
				<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/mpl2.png" alt="" style="width: 700px;"/>
			</section>


		<section>
			<p>
			</p>
			<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/mpl3.png" alt="" style="width: 700px;"/>
		</section>

<section>
	<h2>Want higher?</h2>
</section>


<section>
	<p><a href="https://raw.githubusercontent.com/toperkin/ClemsonIntroPythonSp15/gh-pages/source/iris.data">Here's some high dimensional data.</a></p>
</section>

<section>
<p>and some code</p>
<pre><code>
#4d.py

import matplotlib.pyplot as plt
from pandas import read_csv
from pandas.tools.plotting import andrews_curves

data = read_csv('iris.data')
plt.figure()

andrews_curves(data, 'Name')

plt.savefig('andrews')
</code></pre>
</section>

<section>
	<h2>The output:</h2>
	<p>
	</p>
	<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/andrews.png" alt="" style="width: 700px;"/>
</section>

<section>
	<h2>More pictures!</h2>
</section>


<section>
	<p>
	</p>
	<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/mpl1.png" alt="" style="width: 700px;"/>
</section>

<section>
	<p>
	</p>
	<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/seab1.png" alt="" style="width: 700px;"/>
</section>


<section>
	<p>
	</p>
	<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/seab2.png" alt="" style="width: 700px;"/>
</section>
<section>
	<p>
	</p>
	<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/seab3.png" alt="" style="width: 700px;"/>
</section>
<section>
	<p>
	</p>
	<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/seab4.png" alt="" style="width: 700px;"/>
</section>


<section>
	<p>
	</p>
	<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/seab5.png" alt="" style="width: 700px;"/>
</section>
<section>
	<p>
	</p>
	<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/seab6.png" alt="" style="width: 700px;"/>
</section>
<section>
	<p>
	</p>
	<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/seab7.png" alt="" style="width: 700px;"/>
</section>


<section>
	<p>
	</p>
	<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/bokeh1.png" alt="" style="width: 700px;"/>
</section>

<section>
	<p>
	</p>
	<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/bokeh2.png" alt="" style="width: 700px;"/>
</section>

<section>
	<p>
	</p>
	<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/assets/bokeh3.png" alt="" style="width: 700px;"/>
</section>

				<section>
					<p>A few more libraries to consider looking into.</p><br />
					<ul>
						<li><b>Seaborn</b>: has a more refined color palette by default and advanced stats and plotting features.</li><br />
						<li><b>Bokeh</b>: interactive python graphics for the web.</li>
					</ul>
				</section>

				<section>
					<h2>Let's do a little image processing.</h2>
					<p></p>
				</section>
				<section>
					<h2>OpenCV</h2>
					<p>This library does not come installed with the Anaconda Package</p>
				</section>

				<section>
					<h2></h2>
					<p>With python installing a new library is easy.</p><br />
					<p>Just open a terminal and type:</p><br />
					<p>pip install NameOfTheLibraryYouWantHere</p><br />
					<p>also good</p><br />
					<p>conda install NameOfTheLibraryYouWantHere</p>
				</section>
				<section>
					<h2></h2>
					<p>Here's a pretty picture:</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/usf_cloister_banyan.jpg" alt="" style="width: 700px;"/>
				</section>
				<section>
					<h2></h2>
					<p>Let's find it's edges.</p>
<pre><code>
# image_proc.py

import cv2

img = cv2.imread('usf_cloister_banyan.jpg')

for threshold in range(10, 250, 20):
  edgy = cv2.Canny(img, threshold, threshold)
  #cv2.imshow(str(threshold), edgy)
  #cv2.waitKey(0)
  cv2.imwrite('threshold'+str(threshold)+'.png', edgy)
</code></pre>
				</section>
				<section>
					<h2></h2>
					<p>Threshold = 10</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/threshold10.png" alt="" style="width: 700px;"/>
				</section>
				<section>
					<h2></h2>
					<p>Threshold = 30</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/threshold30.png" alt="" style="width: 700px;"/>
				</section>
				<section>
					<h2></h2>
					<p>Threshold = 50</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/threshold50.png" alt="" style="width: 700px;"/>
				</section>
				<section>
					<h2></h2>
					<p>Threshold = 70</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/threshold70.png" alt="" style="width: 700px;"/>
				</section>
				<section>
					<h2></h2>
					<p>Threshold = 90</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/threshold90.png" alt="" style="width: 700px;"/>
				</section>
				<section>
					<h2></h2>
					<p>Threshold = 110</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/threshold110.png" alt="" style="width: 700px;"/>
				</section>
				<section>
					<h2></h2>
					<p>Threshold = 130</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/threshold130.png" alt="" style="width: 700px;"/>
				</section>
				<section>
					<h2></h2>
					<p>Threshold = 150</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/threshold150.png" alt="" style="width: 700px;"/>
				</section>
				<section>
					<h2></h2>
					<p>Threshold = 170</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/threshold170.png" alt="" style="width: 700px;"/>
				</section>
				<section>
					<h2></h2>
					<p>Threshold = 190</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/threshold190.png" alt="" style="width: 700px;"/>
				</section>
				<section>
					<h2></h2>
					<p>Threshold = 210</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/threshold210.png" alt="" style="width: 700px;"/>
				</section>
				<section>
					<h2></h2>
					<p>Threshold = 230</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/threshold230.png" alt="" style="width: 700px;"/>
				</section>
				<section>
					<h2></h2>
					<p>Let's detect those faces.</p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/Jonas_Brothers_2009.jpg" alt="" style="width: 700px;"/>
				</section>
				<section>
					<h2></h2>
					<p></p>
<pre><code>
# face_detector.py
import cv2

faceCascade = cv2.CascadeClassifier('haarcascade_frontalface_default.xml')
image = cv2.imread('Jonas_Brothers_2009.jpg')
gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)

faces = faceCascade.detectMultiScale(gray, 1.3, 5)

for (x, y, w, h) in faces:
  cv2.rectangle(image, (x, y), (x+w, y+h), (0, 255, 0), 2)

cv2.imwrite('Jonas_faces.png', image)
cv2.destroyAllWindows()
</code></pre>
				</section>
				<section>
					<h2></h2>
					<p></p>
					<img src="http://toperkin.github.io/ClemsonIntroPythonSp15/source/Jonas_faces.jpg" alt="" style="width: 700px;"/>
				</section>
				<section>
					<h2></h2>
					<p></p>
				</section>
				<section>
					<h2></h2>
					<p></p>
				</section-->
				<section>
					<h2>Get this material:</h2>
					<p></p>
					<ul>
						<li>Link to this:
							<a href="http://toperkin.github.io/ClemsonIntroPythonSp15/talk.html#/">http://toperkin.github.io/ClemsonIntroPythonSp15/talk.html#/</a></li>
						<br />
						<li>Repository with all source files <a href="https://github.com/toperkin/ClemsonIntroPythonSp15/">https://github.com/toperkin/ClemsonIntroPythonSp15/</a></li>
						<br />
						<li>Email me: <i>tperkins@shc.edu</i> </li>
					</ul>
				</section>




				<section>
					<h2>That's all folks!</h2>
					<p>These slides were prepared by <a href="http://toperkin.github.io/">Tony Perkins</a></p>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',


				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
				{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/math/math.js', async: true }
				]
			});

		</script>

	</body>
</html>
